<!DOCTYPE html>

{% extends "base.html" %}

{% block title %}{% endblock %}

{% block content %} 

<h1>{{ car_name }}</h1>

<!-- <div class="car-image"> 
    <img src="{{ car_image_url }}" alt="{{ car_name }} image">
</div> -->
<!--May need to do the double brackets with the two percent signs to access the JSON further research is required.-->



<body class="car_info">

    <h1>{{ brand }} Cars in {{ country | capitalize }}</h1>
    

    <h2>Car Details</h2>

    <!--Look at the slideshow code to see how to implement the way to -->
    <div>
        <img src = "{{ logo }}" alt="{{ brand }}"> </img>
    </div>
       
        {% for car in selected_cars %}
        
            <div onload='addImage("{{ car|tojson }}")'>
                
                <img id = "img-{{ car.model }}" alt="{{brand}}"></img>
                <p><strong> {{ car }} </strong></p>
            </div>
        
        {% endfor %}


</body>

<script>
    function addImage(car){
        let img = document.getElementById(car.model);
        imgLink = imageMode(car);
        img.setAttribute('src', imgLink);
    }

    function imageMode(car){
        //if dark mode
        //found on https://stackoverflow.com/questions/56393880/how-do-i-detect-dark-mode-using-javascript
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            return car.dark;
        }
        else{return car.light};
        }
</script>


{% endblock %}

